{
  "tasks": [
    {
      "name": "-",
      "status": "type_check",
      "stdout": "",
      "stderr": "src/__tests__/api/appointments.test.ts(3,32): error TS2307: Cannot find module '@/app/api/appointments/route' or its corresponding type declarations.\nsrc/__tests__/api/appointments.test.ts(44,52): error TS2345: Argument of type '{ id: string; patient_id: string; doctor_id: string; appointment_date: string; appointment_time: string; type: string; status: string; patients: { users: { name: string; phone: string; }; }; doctors: { ...; }; }[]' is not assignable to parameter of type 'never[] | Promise<never[]>'.\n  Type '{ id: string; patient_id: string; doctor_id: string; appointment_date: string; appointment_time: string; type: string; status: string; patients: { users: { name: string; phone: string; }; }; doctors: { ...; }; }[]' is not assignable to type 'never[]'.\n    Type '{ id: string; patient_id: string; doctor_id: string; appointment_date: string; appointment_time: string; type: string; status: string; patients: { users: { name: string; phone: string; }; }; doctors: { ...; }; }' is not assignable to type 'never'.\nsrc/__tests__/api/appointments.test.ts(76,52): error TS2345: Argument of type '{ id: string; patient_id: string; doctor_id: string; appointment_date: string; appointment_time: string; type: string; status: string; }[]' is not assignable to parameter of type 'never[] | Promise<never[]>'.\n  Type '{ id: string; patient_id: string; doctor_id: string; appointment_date: string; appointment_time: string; type: string; status: string; }[]' is not assignable to type 'never[]'.\n    Type '{ id: string; patient_id: string; doctor_id: string; appointment_date: string; appointment_time: string; type: string; status: string; }' is not assignable to type 'never'.\nsrc/__tests__/api/appointments.test.ts(105,52): error TS2345: Argument of type '{ id: string; patient_id: string; doctor_id: string; appointment_date: string; appointment_time: string; type: string; status: string; }[]' is not assignable to parameter of type 'never[] | Promise<never[]>'.\n  Type '{ id: string; patient_id: string; doctor_id: string; appointment_date: string; appointment_time: string; type: string; status: string; }[]' is not assignable to type 'never[]'.\n    Type '{ id: string; patient_id: string; doctor_id: string; appointment_date: string; appointment_time: string; type: string; status: string; }' is not assignable to type 'never'.\nsrc/__tests__/api/appointments.test.ts(169,54): error TS2345: Argument of type '{ id: string; patient_id: string; doctor_id: string; appointment_date: string; appointment_time: string; type: string; status: string; }' is not assignable to parameter of type 'Promise<never>'.\n  Type '{ id: string; patient_id: string; doctor_id: string; appointment_date: string; appointment_time: string; type: string; status: string; }' is missing the following properties from type 'Promise<never>': then, catch, finally, [Symbol.toStringTag]\nsrc/__tests__/api/appointments.test.ts(170,47): error TS2345: Argument of type '{ id: string; users: { name: string; phone: string; }; }' is not assignable to parameter of type 'Promise<never>'.\n  Type '{ id: string; users: { name: string; phone: string; }; }' is missing the following properties from type 'Promise<never>': then, catch, finally, [Symbol.toStringTag]\nsrc/__tests__/api/appointments.test.ts(258,54): error TS2345: Argument of type '{ id: string; patient_id: string; doctor_id: string; }' is not assignable to parameter of type 'Promise<never>'.\n  Type '{ id: string; patient_id: string; doctor_id: string; }' is missing the following properties from type 'Promise<never>': then, catch, finally, [Symbol.toStringTag]\nsrc/__tests__/api/appointments.test.ts(259,47): error TS2345: Argument of type '{ id: string; users: { name: string; phone: string; }; }' is not assignable to parameter of type 'Promise<never>'.\n  Type '{ id: string; users: { name: string; phone: string; }; }' is missing the following properties from type 'Promise<never>': then, catch, finally, [Symbol.toStringTag]\nsrc/__tests__/api/appointments.test.ts(331,54): error TS2345: Argument of type '{ id: string; appointment_date: string; appointment_time: string; status: string; }' is not assignable to parameter of type 'Promise<never>'.\n  Type '{ id: string; appointment_date: string; appointment_time: string; status: string; }' is missing the following properties from type 'Promise<never>': then, catch, finally, [Symbol.toStringTag]\nsrc/__tests__/api/patients.test.ts(3,27): error TS2307: Cannot find module '@/app/api/patients/route' or its corresponding type declarations.\nsrc/__tests__/api/patients.test.ts(59,48): error TS2345: Argument of type '{ id: string; name: string; age: number; phone: string; email: string; role: string; }[]' is not assignable to parameter of type 'never[] | Promise<never[]>'.\n  Type '{ id: string; name: string; age: number; phone: string; email: string; role: string; }[]' is not assignable to type 'never[]'.\n    Type '{ id: string; name: string; age: number; phone: string; email: string; role: string; }' is not assignable to type 'never'.\nsrc/__tests__/api/patients.test.ts(60,47): error TS2345: Argument of type '{ id: string; name: string; age: number; phone: string; email: string; status: string; } | undefined' is not assignable to parameter of type 'Promise<never>'.\n  Type 'undefined' is not assignable to type 'Promise<never>'.\nsrc/__tests__/api/patients.test.ts(61,52): error TS2345: Argument of type '{ id: string; appointment_date: string; appointment_time: string; }[]' is not assignable to parameter of type 'never[] | Promise<never[]>'.\n  Type '{ id: string; appointment_date: string; appointment_time: string; }[]' is not assignable to type 'never[]'.\n    Type '{ id: string; appointment_date: string; appointment_time: string; }' is not assignable to type 'never'.\nsrc/__tests__/api/patients.test.ts(92,48): error TS2345: Argument of type '{ id: string; name: string; age: number; phone: string; email: string; role: string; }[]' is not assignable to parameter of type 'never[] | Promise<never[]>'.\n  Type '{ id: string; name: string; age: number; phone: string; email: string; role: string; }[]' is not assignable to type 'never[]'.\n    Type '{ id: string; name: string; age: number; phone: string; email: string; role: string; }' is not assignable to type 'never'.\nsrc/__tests__/api/patients.test.ts(94,9): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type 'Promise<never>'.\nsrc/__tests__/api/patients.test.ts(161,47): error TS2345: Argument of type '{ id: string; name: string; phone: string; }' is not assignable to parameter of type 'Promise<never>'.\n  Type '{ id: string; name: string; phone: string; }' is missing the following properties from type 'Promise<never>': then, catch, finally, [Symbol.toStringTag]\nsrc/__tests__/api/patients.test.ts(162,50): error TS2345: Argument of type '{ id: string; status: string; }' is not assignable to parameter of type 'Promise<never>'.\n  Type '{ id: string; status: string; }' is missing the following properties from type 'Promise<never>': then, catch, finally, [Symbol.toStringTag]\nsrc/__tests__/api/patients.test.ts(241,47): error TS2345: Argument of type '{ id: string; name: string; phone: string; }' is not assignable to parameter of type 'Promise<never>'.\n  Type '{ id: string; name: string; phone: string; }' is missing the following properties from type 'Promise<never>': then, catch, finally, [Symbol.toStringTag]\nsrc/__tests__/api/patients.test.ts(242,50): error TS2345: Argument of type '{ id: string; status: string; }' is not assignable to parameter of type 'Promise<never>'.\n  Type '{ id: string; status: string; }' is missing the following properties from type 'Promise<never>': then, catch, finally, [Symbol.toStringTag]\nsrc/__tests__/saudi-health-integration.test.ts(31,26): error TS2339: Property 'valid' does not exist on type 'Promise<{ valid: boolean; errors: string[]; }>'.\nsrc/__tests__/saudi-health-integration.test.ts(32,28): error TS2339: Property 'valid' does not exist on type 'Promise<{ valid: boolean; errors: string[]; }>'.\nsrc/__tests__/saudi-health-integration.test.ts(59,26): error TS2339: Property 'valid' does not exist on type 'Promise<{ valid: boolean; errors: string[]; }>'.\nsrc/__tests__/saudi-health-integration.test.ts(60,28): error TS2339: Property 'valid' does not exist on type 'Promise<{ valid: boolean; errors: string[]; }>'.\nsrc/__tests__/saudi-health-integration.test.ts(87,26): error TS2339: Property 'valid' does not exist on type 'Promise<{ valid: boolean; errors: string[]; }>'.\nsrc/__tests__/saudi-health-integration.test.ts(88,28): error TS2339: Property 'valid' does not exist on type 'Promise<{ valid: boolean; errors: string[]; }>'.\nsrc/__tests__/setup.ts(137,1): error TS2322: Type 'Mock<{ observe: Mock<any, any, any>; unobserve: Mock<any, any, any>; disconnect: Mock<any, any, any>; }, [], any>' is not assignable to type '{ new (callback: IntersectionObserverCallback, options?: IntersectionObserverInit | undefined): IntersectionObserver; prototype: IntersectionObserver; }'.\n  Type '{ observe: Mock<any, any, any>; unobserve: Mock<any, any, any>; disconnect: Mock<any, any, any>; }' is missing the following properties from type 'IntersectionObserver': root, rootMargin, thresholds, takeRecords\nsrc/__tests__/whatsapp-business-api.test.ts(205,14): error TS2532: Object is possibly 'undefined'.\nsrc/__tests__/whatsapp-business-api.test.ts(283,54): error TS2345: Argument of type '{ object: string; entry: { id: string; changes: { value: { messaging_product: string; metadata: { display_phone_number: string; phone_number_id: string; }; contacts: { profile: { name: string; }; wa_id: string; }[]; messages: { ...; }[]; statuses: { ...; }[]; }; field: string; }[]; }[]; }' is not assignable to parameter of type 'WhatsAppWebhookEvent'.\n  Types of property 'entry' are incompatible.\n    Type '{ id: string; changes: { value: { messaging_product: string; metadata: { display_phone_number: string; phone_number_id: string; }; contacts: { profile: { name: string; }; wa_id: string; }[]; messages: { from: string; id: string; timestamp: string; type: string; text: { ...; }; }[]; statuses: { ...; }[]; }; field: st...' is not assignable to type '{ id: string; changes: { value: { messaging_product: string; metadata: { display_phone_number: string; phone_number_id: string; }; contacts?: { profile: { name: string; }; wa_id: string; }[]; messages?: { from: string; ... 6 more ...; document?: { ...; }; }[]; statuses?: { ...; }[]; }; field: string; }[]; }[]'.\n      Type '{ id: string; changes: { value: { messaging_product: string; metadata: { display_phone_number: string; phone_number_id: string; }; contacts: { profile: { name: string; }; wa_id: string; }[]; messages: { from: string; id: string; timestamp: string; type: string; text: { ...; }; }[]; statuses: { ...; }[]; }; field: st...' is not assignable to type '{ id: string; changes: { value: { messaging_product: string; metadata: { display_phone_number: string; phone_number_id: string; }; contacts?: { profile: { name: string; }; wa_id: string; }[]; messages?: { from: string; ... 6 more ...; document?: { ...; }; }[]; statuses?: { ...; }[]; }; field: string; }[]; }'.\n        Types of property 'changes' are incompatible.\n          Type '{ value: { messaging_product: string; metadata: { display_phone_number: string; phone_number_id: string; }; contacts: { profile: { name: string; }; wa_id: string; }[]; messages: { from: string; id: string; timestamp: string; type: string; text: { ...; }; }[]; statuses: { ...; }[]; }; field: string; }[]' is not assignable to type '{ value: { messaging_product: string; metadata: { display_phone_number: string; phone_number_id: string; }; contacts?: { profile: { name: string; }; wa_id: string; }[]; messages?: { from: string; id: string; ... 5 more ...; document?: { ...; }; }[]; statuses?: { ...; }[]; }; field: string; }[]'.\n            Type '{ value: { messaging_product: string; metadata: { display_phone_number: string; phone_number_id: string; }; contacts: { profile: { name: string; }; wa_id: string; }[]; messages: { from: string; id: string; timestamp: string; type: string; text: { ...; }; }[]; statuses: { ...; }[]; }; field: string; }' is not assignable to type '{ value: { messaging_product: string; metadata: { display_phone_number: string; phone_number_id: string; }; contacts?: { profile: { name: string; }; wa_id: string; }[]; messages?: { from: string; id: string; ... 5 more ...; document?: { ...; }; }[]; statuses?: { ...; }[]; }; field: string; }'.\n              The types of 'value.statuses' are incompatible between these types.\n                Type '{ id: string; status: string; timestamp: string; recipient_id: string; }[]' is not assignable to type '{ id: string; status: \"sent\" | \"delivered\" | \"read\" | \"failed\"; timestamp: string; recipient_id: string; }[]'.\n                  Type '{ id: string; status: string; timestamp: string; recipient_id: string; }' is not assignable to type '{ id: string; status: \"sent\" | \"delivered\" | \"read\" | \"failed\"; timestamp: string; recipient_id: string; }'.\n                    Types of property 'status' are incompatible.\n                      Type 'string' is not assignable to type '\"sent\" | \"delivered\" | \"read\" | \"failed\"'.\nsrc/__tests__/whatsapp-business-api.test.ts(286,14): error TS2532: Object is possibly 'undefined'.\nsrc/__tests__/whatsapp-business-api.test.ts(287,14): error TS2532: Object is possibly 'undefined'.\nsrc/__tests__/whatsapp-business-api.test.ts(288,14): error TS2532: Object is possibly 'undefined'.\nsrc/__tests__/whatsapp-business-api.test.ts(291,14): error TS2532: Object is possibly 'undefined'.\nsrc/__tests__/whatsapp-business-api.test.ts(292,14): error TS2532: Object is possibly 'undefined'.\nsrc/lib/saudi-ministry-health-integration.ts(60,11): error TS6133: 'sehaApiEndpoint' is declared but its value is never read.\nsrc/lib/saudi-ministry-health-integration.ts(61,11): error TS6133: 'shoonApiEndpoint' is declared but its value is never read.\nsrc/lib/saudi-ministry-health-integration.ts(62,11): error TS6133: 'tatmanApiEndpoint' is declared but its value is never read.\nsrc/lib/saudi-ministry-health-integration.ts(251,5): error TS6133: 'patientId' is declared but its value is never read.\nsrc/lib/security-enhanced.ts(23,14): error TS2323: Cannot redeclare exported variable 'EnhancedRateLimiter'.\nsrc/lib/security-enhanced.ts(63,14): error TS2323: Cannot redeclare exported variable 'EnhancedCSRFProtection'.\nsrc/lib/security-enhanced.ts(102,14): error TS2323: Cannot redeclare exported variable 'EnhancedSessionSecurity'.\nsrc/lib/security-enhanced.ts(120,14): error TS2323: Cannot redeclare exported variable 'InputSanitizer'.\nsrc/lib/security-enhanced.ts(143,14): error TS2323: Cannot redeclare exported variable 'AuditLogger'.\nsrc/lib/security-enhanced.ts(154,29): error TS2379: Argument of type '{ user_id: string | undefined; action: string; table_name: any; record_id: any; old_values: any; new_values: any; ip_address: string; user_agent: string; }' is not assignable to parameter of type '{ user_id?: string; action: string; table_name?: string; record_id?: string; old_values?: any; new_values?: any; ip_address?: string; user_agent?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.\n  Types of property 'user_id' are incompatible.\n    Type 'string | undefined' is not assignable to type 'string'.\n      Type 'undefined' is not assignable to type 'string'.\nsrc/lib/security-enhanced.ts(171,14): error TS2323: Cannot redeclare exported variable 'EnhancedAuthMiddleware'.\nsrc/lib/security-enhanced.ts(204,26): error TS2339: Property 'is_active' does not exist on type 'never'.\nsrc/lib/security-enhanced.ts(353,16): error TS18046: 'error' is of type 'unknown'.\nsrc/lib/security-enhanced.ts(354,16): error TS18046: 'error' is of type 'unknown'.\nsrc/lib/security-enhanced.ts(366,14): error TS2323: Cannot redeclare exported variable 'DataValidator'.\nsrc/lib/security-enhanced.ts(399,3): error TS2323: Cannot redeclare exported variable 'EnhancedRateLimiter'.\nsrc/lib/security-enhanced.ts(399,3): error TS2484: Export declaration conflicts with exported declaration of 'EnhancedRateLimiter'.\nsrc/lib/security-enhanced.ts(400,3): error TS2323: Cannot redeclare exported variable 'EnhancedCSRFProtection'.\nsrc/lib/security-enhanced.ts(400,3): error TS2484: Export declaration conflicts with exported declaration of 'EnhancedCSRFProtection'.\nsrc/lib/security-enhanced.ts(401,3): error TS2323: Cannot redeclare exported variable 'EnhancedSessionSecurity'.\nsrc/lib/security-enhanced.ts(401,3): error TS2484: Export declaration conflicts with exported declaration of 'EnhancedSessionSecurity'.\nsrc/lib/security-enhanced.ts(402,3): error TS2323: Cannot redeclare exported variable 'InputSanitizer'.\nsrc/lib/security-enhanced.ts(402,3): error TS2484: Export declaration conflicts with exported declaration of 'InputSanitizer'.\nsrc/lib/security-enhanced.ts(403,3): error TS2323: Cannot redeclare exported variable 'AuditLogger'.\nsrc/lib/security-enhanced.ts(403,3): error TS2484: Export declaration conflicts with exported declaration of 'AuditLogger'.\nsrc/lib/security-enhanced.ts(404,3): error TS2323: Cannot redeclare exported variable 'EnhancedAuthMiddleware'.\nsrc/lib/security-enhanced.ts(404,3): error TS2484: Export declaration conflicts with exported declaration of 'EnhancedAuthMiddleware'.\nsrc/lib/security-enhanced.ts(405,3): error TS2323: Cannot redeclare exported variable 'DataValidator'.\nsrc/lib/security-enhanced.ts(405,3): error TS2484: Export declaration conflicts with exported declaration of 'DataValidator'.\nsrc/lib/security.ts(20,27): error TS6133: 'CSRF_SECRET' is declared but its value is never read.\nsrc/lib/security.ts(197,14): error TS7006: Parameter 'hashBuffer' implicitly has an 'any' type.\nsrc/lib/supabase-real.ts(49,8): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(values: never, options?: { count?: \"exact\" | \"planned\" | \"estimated\"; } | undefined): PostgrestFilterBuilder<{ PostgrestVersion: \"12\"; }, never, never, null, \"users\", never, \"POST\">', gave the following error.\n    Argument of type '{ national_id?: string; name: string; name_en?: string; age?: number; gender?: \"male\" | \"female\"; phone: string; email?: string; role: \"family_member\" | \"patient\" | \"admin\" | \"doctor\" | \"therapist\"; ... 9 more ...; allergies?: string[]; }[]' is not assignable to parameter of type 'never'.\n  Overload 2 of 2, '(values: never[], options?: { count?: \"exact\" | \"planned\" | \"estimated\"; defaultToNull?: boolean; } | undefined): PostgrestFilterBuilder<{ PostgrestVersion: \"12\"; }, never, never, null, \"users\", never, \"POST\">', gave the following error.\n    Type '{ national_id?: string; name: string; name_en?: string; age?: number; gender?: \"male\" | \"female\"; phone: string; email?: string; role: \"family_member\" | \"patient\" | \"admin\" | \"doctor\" | \"therapist\"; ... 9 more ...; allergies?: string[]; }' is not assignable to type 'never'.\nsrc/lib/supabase-real.ts(82,15): error TS2345: Argument of type 'any' is not assignable to parameter of type 'never'.\nsrc/lib/supabase-real.ts(123,8): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(values: never, options?: { count?: \"exact\" | \"planned\" | \"estimated\"; } | undefined): PostgrestFilterBuilder<{ PostgrestVersion: \"12\"; }, never, never, null, \"doctors\", never, \"POST\">', gave the following error.\n    Argument of type '{ id: string; license_number: string; specialty: string; qualifications?: string[]; experience_years?: number; consultation_fee?: number; is_available?: boolean; working_hours?: any; }[]' is not assignable to parameter of type 'never'.\n  Overload 2 of 2, '(values: never[], options?: { count?: \"exact\" | \"planned\" | \"estimated\"; defaultToNull?: boolean; } | undefined): PostgrestFilterBuilder<{ PostgrestVersion: \"12\"; }, never, never, null, \"doctors\", never, \"POST\">', gave the following error.\n    Type '{ id: string; license_n",
      "timestamp": ""
    }
  ]
}