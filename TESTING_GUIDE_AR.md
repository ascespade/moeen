# دليل الاختبارات التلقائية
## Auto Testing Guide

## المشكلة
كانت الاختبارات تتوقف وتنتظر منك الضغط على "Skip" أو "Cancel" في كل مرة.

## الحل
تم إنشاء أدوات لتشغيل الاختبارات تلقائياً بدون تدخل يدوي.

## الأدوات المتاحة

### 1. أداة تحويل الكيبورد العربي
```bash
python3 arabic_keyboard_converter.py
```
تحول النص العربي المشوه (المكتوب بالكيبورد الإنجليزي) إلى نص عربي صحيح.

### 2. مشغل الاختبارات التلقائي
```bash
npm run test:auto
```
أو
```bash
node auto-test-runner.js
```

### 3. تشغيل الاختبارات بالإعدادات المحسنة
```bash
npm run test:e2e:auto-config
```

### 4. السكريبت التقليدي
```bash
./run-tests-auto.sh
```

## الميزات الجديدة

### إعدادات Playwright محسنة
- **مهلة زمنية أطول**: 60 ثانية للاختبار الواحد
- **إعادة المحاولة**: مرة واحدة تلقائياً
- **تجاهل الأخطاء**: لا يتوقف عند فشل اختبار واحد
- **تشغيل متوازي**: اختبارات متعددة في نفس الوقت
- **تقارير مفصلة**: HTML, JSON, XML

### إعدادات المتصفح محسنة
- **إعدادات الاستقرار**: منع تعليق المتصفح
- **تجاهل HTTPS**: للاختبارات المحلية
- **قبول التنزيلات**: تلقائياً
- **إعدادات الذاكرة**: تحسين الأداء

## كيفية الاستخدام

### 1. تشغيل سريع
```bash
npm run test:auto
```

### 2. تشغيل مع إعدادات مخصصة
```bash
npx playwright test --config=playwright-auto.config.ts
```

### 3. تشغيل اختبارات محددة
```bash
npx playwright test --grep="Login Module"
```

### 4. تشغيل مع عرض المتصفح
```bash
npx playwright test --headed
```

## التقارير

### تقرير HTML
- الموقع: `test-results/html-report/index.html`
- يمكن فتحه في المتصفح لعرض النتائج التفصيلية

### تقرير JSON
- الملف: `test-results/results.json`
- يحتوي على النتائج بالتفصيل

### تقرير XML
- الملف: `test-results/results.xml`
- للاستخدام مع أدوات CI/CD

## استكشاف الأخطاء

### إذا فشل الاختبار
1. تحقق من أن الخادم يعمل: `npm run dev`
2. تحقق من متغيرات البيئة
3. شغل الاختبارات مع `--headed` لرؤية ما يحدث

### إذا توقف الاختبار
1. استخدم `Ctrl+C` لإيقاف الاختبار
2. تحقق من الأخطاء في الكونسول
3. شغل الاختبارات واحداً واحداً

## نصائح مهمة

1. **تأكد من تشغيل الخادم**: `npm run dev`
2. **تحقق من المتصفحات**: `npx playwright install`
3. **استخدم الإعدادات التلقائية**: `playwright-auto.config.ts`
4. **راقب الذاكرة**: قد تحتاج لإعادة تشغيل الاختبارات

## الملفات المهمة

- `playwright-auto.config.ts` - إعدادات الاختبارات التلقائية
- `auto-test-runner.js` - مشغل الاختبارات التلقائي
- `arabic_keyboard_converter.py` - أداة تحويل الكيبورد
- `run-tests-auto.sh` - سكريبت bash للاختبارات

## الدعم

إذا واجهت مشاكل:
1. تحقق من الأخطاء في الكونسول
2. استخدم `--debug` لرؤية التفاصيل
3. تحقق من إعدادات البيئة
4. تأكد من تشغيل الخادم

---
**ملاحظة**: هذه الأدوات مصممة لتشغيل الاختبارات تلقائياً بدون تدخل يدوي. إذا كنت تريد التحكم اليدوي، استخدم الأوامر العادية لـ Playwright.
