# ================================
# SSH Configuration for Remote Connections
# ================================

# Default settings for all hosts
Host *
    StrictHostKeyChecking no
    UserKnownHostsFile /dev/null
    ServerAliveInterval 60
    ServerAliveCountMax 3
    TCPKeepAlive yes
    Compression yes
    ControlMaster auto
    ControlPath ~/.ssh/master-%r@%h:%p
    ControlPersist 10m
    IdentitiesOnly yes
    IdentityFile ~/.ssh/id_rsa
    PasswordAuthentication no
    PubkeyAuthentication yes
    PreferredAuthentications publickey

# Production servers
Host prod-*
    User ubuntu
    Port 22
    IdentityFile ~/.ssh/id_rsa
    ServerAliveInterval 30
    ServerAliveCountMax 6

# Development servers
Host dev-*
    User ubuntu
    Port 22
    IdentityFile ~/.ssh/id_rsa
    ServerAliveInterval 30
    ServerAliveCountMax 6

# Local development
Host localhost
    User root
    Port 22
    IdentityFile ~/.ssh/id_rsa
    StrictHostKeyChecking yes

# Docker containers
Host docker-*
    User root
    Port 22
    IdentityFile ~/.ssh/id_rsa
    ProxyCommand ssh -W %h:%p gateway
