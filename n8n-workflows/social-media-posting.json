{
  "name": "Social Media Auto Posting",
  "active": true,
  "nodes": [
    {
      "id": "schedule-trigger",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1,
      "position": [
        240,
        300
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 9,15,21 * * *"
            }
          ]
        }
      }
    },
    {
      "id": "google-drive-node",
      "name": "Get Random Video",
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 2,
      "position": [
        460,
        300
      ],
      "parameters": {
        "operation": "list",
        "folderId": "",
        "options": {
          "q": "mimeType='video/mp4'"
        }
      }
    },
    {
      "id": "random-selector",
      "name": "Select Random Video",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        680,
        300
      ],
      "parameters": {
        "functionCode": "\n              const videos = $input.all();\n              const randomIndex = Math.floor(Math.random() * videos.length);\n              return [videos[randomIndex]];\n            "
      }
    },
    {
      "id": "tiktok-poster",
      "name": "Post to TikTok",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [
        900,
        200
      ],
      "parameters": {
        "url": "https://open-api.tiktok.com/v2/post/publish/",
        "method": "POST",
        "headers": {
          "Authorization": "Bearer {{ $env.TIKTOK_ACCESS_TOKEN }}",
          "Content-Type": "application/json"
        },
        "body": {
          "video_url": "={{ $json.webContentLink }}",
          "description": "Check out this amazing content! #healthcare #ai #innovation"
        }
      }
    },
    {
      "id": "instagram-poster",
      "name": "Post to Instagram",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [
        900,
        300
      ],
      "parameters": {
        "url": "https://graph.instagram.com/v18.0/me/media",
        "method": "POST",
        "headers": {
          "Authorization": "Bearer {{ $env.INSTAGRAM_ACCESS_TOKEN }}",
          "Content-Type": "application/json"
        },
        "body": {
          "image_url": "={{ $json.webContentLink }}",
          "caption": "Amazing healthcare innovation! #healthcare #ai #innovation"
        }
      }
    },
    {
      "id": "linkedin-poster",
      "name": "Post to LinkedIn",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [
        900,
        400
      ],
      "parameters": {
        "url": "https://api.linkedin.com/v2/ugcPosts",
        "method": "POST",
        "headers": {
          "Authorization": "Bearer {{ $env.LINKEDIN_ACCESS_TOKEN }}",
          "Content-Type": "application/json"
        },
        "body": {
          "author": "urn:li:person:{{ $env.LINKEDIN_PERSON_URN }}",
          "lifecycleState": "PUBLISHED",
          "specificContent": {
            "com.linkedin.ugc.ShareContent": {
              "shareCommentary": {
                "text": "Exciting developments in healthcare technology! #healthcare #ai #innovation"
              },
              "shareMediaCategory": "VIDEO",
              "media": [
                {
                  "status": "READY",
                  "description": {
                    "text": "Healthcare innovation showcase"
                  },
                  "media": "={{ $json.webContentLink }}"
                }
              ]
            }
          },
          "visibility": {
            "com.linkedin.ugc.MemberNetworkVisibility": "PUBLIC"
          }
        }
      }
    },
    {
      "id": "facebook-poster",
      "name": "Post to Facebook",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [
        900,
        500
      ],
      "parameters": {
        "url": "https://graph.facebook.com/v18.0/me/videos",
        "method": "POST",
        "headers": {
          "Authorization": "Bearer {{ $env.FACEBOOK_ACCESS_TOKEN }}",
          "Content-Type": "application/json"
        },
        "body": {
          "file_url": "={{ $json.webContentLink }}",
          "description": "Amazing healthcare innovation! #healthcare #ai #innovation"
        }
      }
    }
  ],
  "connections": {
    "schedule-trigger": {
      "main": [
        [
          {
            "node": "google-drive-node",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "google-drive-node": {
      "main": [
        [
          {
            "node": "random-selector",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "random-selector": {
      "main": [
        [
          {
            "node": "tiktok-poster",
            "type": "main",
            "index": 0
          },
          {
            "node": "instagram-poster",
            "type": "main",
            "index": 0
          },
          {
            "node": "linkedin-poster",
            "type": "main",
            "index": 0
          },
          {
            "node": "facebook-poster",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}